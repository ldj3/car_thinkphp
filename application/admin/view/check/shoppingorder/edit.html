<form id="edit-form" class="form-horizontal form-ajax" role="form" data-toggle="validator" method="POST" action="">

    <div class="form-group">
        <label for="id" class="control-label col-xs-12 col-sm-2">{:__('ID')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="id" name="row[id]" value="{$row.id}" data-rule="required;id" disabled="disabled" />
        </div>
    </div>
	<div class="form-group">
        <label for="order_name" class="control-label col-xs-12 col-sm-2">{:__('Order_name')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="order_name" name="row[order_name]" value="{$row.order_name}" data-rule="required;order_name" disabled="disabled" />
        </div>
    </div>
	<div class="form-group">
        <label for="amount" class="control-label col-xs-12 col-sm-2">{:__('Amount')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="amount" name="row[amount]" value="{$row.amount}" data-rule="required;amount" disabled="disabled" />
        </div>
    </div>
	<div class="form-group">
        <label for="total_pay" class="control-label col-xs-12 col-sm-2">{:__('Total_pay')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="total_pay" name="row[total_pay]" value="{$row.total_pay}" data-rule="required;total_pay" disabled="disabled" />
        </div>
    </div>
	<div class="form-group">
        <label for="product_property" class="control-label col-xs-12 col-sm-2">{:__('Product_property')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="product_property" name="row[product_property]" value="{$row.product_property}" data-rule="required;product_property" disabled="disabled" />
        </div>
    </div>
	<div class="form-group">
        <label for="deposit" class="control-label col-xs-12 col-sm-2">{:__('Deposit')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="deposit" name="row[deposit]" value="{$row.deposit}" data-rule="required;deposit" disabled="disabled" />
        </div>
    </div>
	<div class="form-group">
        <label for="share_score" class="control-label col-xs-12 col-sm-2">{:__('Share_score')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="share_score" name="row[share_score]" value="{$row.share_score}" data-rule="required;share_score" disabled="disabled" />
        </div>
    </div>
	<div class="form-group">
        <label for="quick_score" class="control-label col-xs-12 col-sm-2">{:__('Quick_score')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="quick_score" name="row[quick_score]" value="{$row.quick_score}" data-rule="required;quick_score" disabled="disabled" />
        </div>
    </div>
	<div class="form-group">
        <label for="funny_bean" class="control-label col-xs-12 col-sm-2">{:__('Funny_bean')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="funny_bean" name="row[funny_bean]" value="{$row.funny_bean}" data-rule="required;funny_bean" disabled="disabled" />
        </div>
    </div>
	<div class="form-group">
        <label for="show_order_code" class="control-label col-xs-12 col-sm-2">{:__('Show_order_code')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="show_order_code" name="row[show_order_code]" value="{$row.show_order_code}" data-rule="required;show_order_code" disabled="disabled" />
        </div>
    </div>
	<div class="form-group">
        <label for="pay_code" class="control-label col-xs-12 col-sm-2">{:__('Pay_code')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="pay_code" name="row[pay_code]" value="{$row.pay_code}" data-rule="required;pay_code" disabled="disabled" />
        </div>
    </div>
    <div class="form-group">
        <label for="buy_type" class="control-label col-xs-12 col-sm-2">{:__('Buy_type')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="buy_type" name="row[buy_type]" value="{$row.buy_type}" data-rule="required;buy_type" disabled="disabled" />
        </div>
    </div>
    <div class="form-group">
        <label for="deposit_pay" class="control-label col-xs-12 col-sm-2">{:__('Deposit_pay')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="deposit_pay" name="row[deposit_pay]" value="{$row.deposit_pay}" data-rule="required;deposit_pay" disabled="disabled" />
        </div>
    </div>
	<div class="form-group">
        <label for="pay_from" class="control-label col-xs-12 col-sm-2">{:__('Pay_from')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="pay_from" name="row[pay_from]" value="{$row.pay_from}" data-rule="required;pay_from" disabled="disabled" />
        </div>
    </div>
	<div class="form-group">
        <label for="agency_id" class="control-label col-xs-12 col-sm-2">{:__('Agency_id')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="agency_id" name="row[agency_id]" value="{$row.agency_id}" data-rule="required;agency_id" disabled="disabled" />
        </div>
    </div>
	<div class="form-group">
        <label for="shop_id" class="control-label col-xs-12 col-sm-2">{:__('Shop_id')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="shop_id" name="row[shop_id]" value="{$row.shop_id}" data-rule="required;shop_id" disabled="disabled" />
        </div>
    </div>
	<div class="form-group">
        <label for="user_id" class="control-label col-xs-12 col-sm-2">{:__('User_id')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="user_id" name="row[user_id]" value="{$row.user_id}" data-rule="required;user_id" disabled="disabled" />
        </div>
    </div>
    <div class="form-group">
        <label for="price" class="control-label col-xs-12 col-sm-2">{:__('Price')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="price" name="row[price]" value="{$row.price}" data-rule="required"  />
        </div>
    </div>
    <div class="form-group">
        <label for="tax" class="control-label col-xs-12 col-sm-2">{:__('Tax')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="tax" name="row[tax]" value="{$row.tax}" data-rule="required"  />
        </div>
    </div>
    <div class="form-group">
        <label for="contract_code" class="control-label col-xs-12 col-sm-2">{:__('Contract_code')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="contract_code" name="row[contract_code]" value="{$row.contract_code}" />
        </div>
    </div>
    <div class="form-group">
        <label for="buy_contract_code" class="control-label col-xs-12 col-sm-2">{:__('Buy_contract_code')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" id="buy_contract_code" name="row[buy_contract_code]" value="{$row.buy_contract_code}" />
        </div>
    </div>
	<div class="form-group">
        <label for="state" class="control-label col-xs-12 col-sm-2">{:__('State')}:</label>
        <div class="col-xs-12 col-sm-8">
            {:build_radios('row[state]', ['auditing'=>__('Auditing'), 'imcomplete'=>__('Imcomplete'),'failed'=>__('Failed'),'success'=>__('Success'),'nopass'=>__('Nopass'),'consumed'=>__('Consumed')], $row['state'])}
        </div>
    </div>
    <div class="form-group hidden layer-footer">
        <label class="control-label col-xs-12 col-sm-2"></label>
        <div class="col-xs-12 col-sm-8">
            <button type="submit" id="btnsubmit" onclick="formsubmit()"  class="btn btn-success btn-embossed disabled">{:__('OK')}</button>
            <button type="reset" class="btn btn-default btn-embossed">{:__('Reset')}</button>
        </div>
    </div>
</form>

<script type="text/javascript">
    function formsubmit() {
        var state = $('input:radio[name="row[state]"]:checked').val();
        var id = $('input:text[name="row[id]"]').val();
        var price = $('input:text[name="row[price]"]').val();
        var tax = $('input:text[name="row[tax]"]').val();
        $.ajax({
            type: 'PUT',
            dataType: 'json',
            // url: "http://192.168.31.111:8008/verify/order/",
            url: "http://api.xiyueyi.cn:8687/verify/order/",
            data: {state:state,order_id:id,price:price,tax:tax},
            success: function(resp) {
                    Form.api.bindevent($("form[role=form]"));
                    Controller.api.bindevent();
            },
            error: function(error) {
                return false;
            }
        });
    }
</script>